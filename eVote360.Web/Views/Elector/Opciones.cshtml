@model EVote360.Web.Models.OpcionesVm
@{
    ViewData["Title"] = "Elegir opción";
}
<h3 class="mt-2">Elegir opción</h3>

<form asp-action="Votar" method="post" class="mt-3">
    <input type="hidden" asp-for="ElectionId" />
    <input type="hidden" asp-for="CitizenId" />
    <input type="hidden" asp-for="PositionId" />

    @if (Model.Opciones.Count == 0)
    {
        <div class="alert alert-info">No hay opciones disponibles para este puesto.</div>
    }
    else
    {
        <div class="mb-3">
            @for (int i = 0; i < Model.Opciones.Count; i++)
            {
                var op = Model.Opciones[i];
                <div class="form-check">
                    <input class="form-check-input"
                           type="radio"
                           name="CandidateId"
                           value="@(op.CandidateId.HasValue? op.CandidateId.ToString() : "")" />
                    <label class="form-check-label">@op.Display</label>
                </div>
            }
        </div>
    }

    <div class="text-danger">
        @Html.ValidationSummary()
    </div>

    <div class="d-flex gap-2">
        <button class="btn btn-primary" type="submit">Registrar voto</button>
        <a class="btn btn-secondary"
           asp-action="Boleta">Volver</a>
    </div>
</form>
